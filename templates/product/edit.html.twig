{% extends 'base.html.twig' %}
{% block title %}Edit Product{% endblock %}

{% block body %}
<div class="col-sm-8">
    <h1><small>Update product</small></h1>
    {{ form_start(form, {'attr': {'id': 'edit_product'}}) }}
        <div class="form-group required row">   
            {{
                form_label
                (
                    form.name, 
                    'Product Name',
                    {'label_attr': {'class': 'control-label col-sm-2'}}
                ) 
            }}
            <div class="col-sm-10">
                {{ 
                    form_widget
                    (
                        form.name, 
                        {'attr': {'class': 'form-control js-form'}}
                    ) 
                }}
                {{ form_errors(form.name) }}
            </div>
        </div>
        <div class="form-group required row">
            {{ 
                form_label
                (
                    form.price,
                    'Product Price',
                    {'label_attr': {'class': 'control-label col-sm-2'}}
                )
            }}
            <div class="col-sm-10">
                {{ 
                    form_widget
                    (
                        form.price,
                        {'attr': {'class': 'form-control js-form'}}
                    ) 
                }}
                {{ form_errors(form.price) }}
            </div>
        </div>
        <div class="form-group row">
            {{ 
                form_label
                (
                    form.description,
                    'Product Description',
                    {'label_attr': {'class': 'control-label col-sm-2'}}
                ) 
            }}
            <div class="col-sm-10">
                {{
                    form_widget
                    (
                        form.description,
                        {'attr': {'class': 'form-control js-form'}}
                    ) 
                }}
            </div>
        </div>
        <div class="col-sm-10">
            <div class="form-group row">
                <button type="submit" class="btn btn-sm btn-success">
                    <i class="fa fa-save" aria-hidden="true"></i> Update
                </button>
                <button 
                    type="button" 
                    class="btn btn-sm btn-danger ml-1 js-clear-btn"
                >
                Clear
                </button>
                <a 
                    href="{{ path('product')}}" 
                    class="btn btn-sm btn-primary ml-1">
                    Back
                </a>
                <div class="my-custom-class-for-errors">
                    {{ form_errors(form) }}
                </div>
            </div>
        </div>
    {{ form_end(form) }}
    </div>
</div>
<script>
    $(document).ready(function(){
        $( ".js-clear-btn" ).click(function() {
           $(".js-form").val("");
        });

         $("#edit_product").validate({
            rules: {
                "form[name]": {
                    required: true
                },
                "form[price]": {
                    required: true,
                    number: true
                }
            }        
        });
    });
</script>
{% endblock %}